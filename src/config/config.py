import os
from pathlib import Path
from dotenv import load_dotenv

load_dotenv()


class Config:
    # FROM DOTENV
    BASE_URL = os.getenv("API_URL")
    # MANUAL CONFIG
    UPDATE_URL = "/slot/update"
    INSERT_BBOX_URL = "/camera/config"
    GET_BBOX_URL = "/camera/bbox/"
    GET_URL = "/slot/"
    GET_SLOT_URL = "/slot"

    IS_DEBUG = False
    IS_PC = True
    IS_VIDEO = False
    IS_UAT_DB = False

    BASE_LAPTOP_DIR = r"D:\engine\smart_parking\repository\github"
    BASE_OCR_MODEL_DIR = 'weights/ocr_model/new_model/20241114-07-08-24/'
    # BASE_OCR_MODEL_DIR = f'weights/ocr_model/new_model/20240925-11-01-14'
    BASE_PC_DIR = r"D:\documents\febri"

    VEHICLE_DETECTION_MODEL_PATH = "weights/multiple-vehicle.pt"
    MODEL_YOLOV8_PATH = "weights/yolov8n.pt"
    MODEL_YOLOV11_PATH = "weights/yolo11n.pt"
    MODEL_VEHICLE_PLATE_PATH = "weights/vehicle_plate_model.pt"
    MODEL_PATH_PLAT = "weights/license_plate_detector.pt"
    MODEL_PATH_PLAT_v2 = "weights/license_plat.pt"
    MODEL_PATH_PLAT_YOLOV8X = "weights/yolov8x-supervision-license-plate-recognition.pt"

    # CHARACTER RECOGNITION MODEL
    MODEL_CHAR_RECOGNITION_PATH = 'character_recognition.json'
    WEIGHT_CHAR_RECOGNITION_PATH = 'models_cnn.h5'
    LABEL_CHAR_RECOGNITION_PATH = 'character_classes.npy'

    # if IS_DEBUG:
    #     BASE_DIR = r"D:\engine\smart_parking\repository\github"
    #     BASE_OCR_MODEL_DIR = 'weights/ocr_model/new_model/20241114-07-08-24/'
    #     # BASE_OCR_MODEL_DIR = f'weights/ocr_model/new_model/20240925-11-01-14'
    # else:
    #     BASE_DIR = r"D:\documents\febri"
    #     BASE_OCR_MODEL_DIR = "weights/ocr_model/new_model/20241114-07-08-24/"
    #     # BASE_OCR_MODEL_DIR = f'weights/ocr_model/new_model/20240925-11-01-14'
    # BASE_DIR = "D:/engine/smart_parking/repository/github"
    # BASE_DIR = Path(_file_).parent.parent.resolve()

    # VEHICLE_DETECTION_MODEL_PATH = os.path.join(BASE_DIR, "weights/multiple-vehicle.pt")
    # MODEL_PATH = os.path.join(BASE_DIR, "weights/yolov8n.pt")
    # # MODEL_PATH = os.path.join(BASE_DIR, "weights/yolo11n.pt")
    # MODEL_VEHICLE_PLATE_PATH = os.path.join(BASE_DIR, "weights/vehicle_plate_model.pt")
    # MODEL_PATH_PLAT = os.path.join(BASE_DIR, "weights/license_plate_detector.pt")
    # MODEL_PATH_PLAT_v2 = os.path.join(BASE_DIR, "weights/license_plat.pt")
    # MODEL_PATH_PLAT_YOLOV8X = os.path.join(BASE_DIR, "weights/yolov8x-supervision-license-plate-recognition.pt")

    # # CHARACTER RECOGNITION MODEL
    # MODEL_CHAR_RECOGNITION_PATH = os.path.join(BASE_DIR, BASE_OCR_MODEL_DIR, 'character_recognition.json')
    # WEIGHT_CHAR_RECOGNITION_PATH = os.path.join(BASE_DIR, BASE_OCR_MODEL_DIR, 'models_cnn.h5')
    # LABEL_CHAR_RECOGNITION_PATH = os.path.join(BASE_DIR, BASE_OCR_MODEL_DIR, 'character_classes.npy')

    LINK_CAM_PREFIX = os.getenv("CAMERA_RTSP")

    # TODO write constants and configs as UPPER CASE
    #SmartParking-Configuration
    CAM_SOURCE_LT2_IN = fr'{LINK_CAM_PREFIX}192.168.1.10'
    CAM_SOURCE_LT2_OUT = fr'{LINK_CAM_PREFIX}192.168.1.11'
    CAM_SOURCE_LT3_IN = fr'{LINK_CAM_PREFIX}192.168.1.12'
    CAM_SOURCE_LT3_OUT = fr'{LINK_CAM_PREFIX}192.168.1.13'
    CAM_SOURCE_LT4_IN = fr'{LINK_CAM_PREFIX}192.168.1.14'
    CAM_SOURCE_LT4_OUT = fr'{LINK_CAM_PREFIX}192.168.1.15'
    CAM_SOURCE_LT5_IN = fr'{LINK_CAM_PREFIX}192.168.1.16'
    CAM_SOURCE_LT5_OUT = fr'{LINK_CAM_PREFIX}192.168.1.17'

    CAM_SOURCE_FLOOR = {
        2: {
            # "IN": '',
            "IN": 'rtsp://admin:Passw0rd@192.168.1.10',
            # "OUT": 'rtsp://admin:Passw0rd@192.168.1.11'
            "OUT": 'rtsp://admin:Passw0rd@192.168.1.17'
        },
        3: {
            "IN": 'rtsp://admin:Passw0rd@192.168.1.12',
            "OUT": 'rtsp://admin:Passw0rd@192.168.1.13'
        },
        4: {
            "IN": 'rtsp://admin:Passw0rd@192.168.1.14',
            "OUT": 'rtsp://admin:Passw0rd@192.168.1.15'
        },
        5: {
            "IN": 'rtsp://admin:Passw0rd@192.168.1.16',
            "OUT": 'rtsp://admin:Passw0rd@192.168.1.17'
        },
    }

    SERIAL_NUMBER_MATRIX_NUM_LT2 = '0100'
    SERIAL_NUMBER_MATRIX_TEXT_LT2 = '0001'

    SERIAL_NUMBER_MATRIX_NUM_LT3 = '6&715F466&0&3'
    SERIAL_NUMBER_MATRIX_TEXT_LT3 = '0002'

    SERIAL_NUMBER_MATRIX_NUM_LT4 = '5626004962'
    SERIAL_NUMBER_MATRIX_TEXT_LT4 = '0003'

    SERIAL_NUMBER_MATRIX_NUM_LT5 = '5626004963'
    SERIAL_NUMBER_MATRIX_TEXT_LT5 = '0004'    

    # SERIAL_COM = "COM5"

    SERIAL_COM = [
        "COM5", 
        "COM6"
    ]

    SERIALS = [
        SERIAL_NUMBER_MATRIX_TEXT_LT2, SERIAL_NUMBER_MATRIX_NUM_LT2,
        SERIAL_NUMBER_MATRIX_TEXT_LT3, SERIAL_NUMBER_MATRIX_NUM_LT3,
        SERIAL_NUMBER_MATRIX_TEXT_LT4, SERIAL_NUMBER_MATRIX_NUM_LT4,
        SERIAL_NUMBER_MATRIX_TEXT_LT5, SERIAL_NUMBER_MATRIX_NUM_LT5
    ]

    SERIALS_FLOOR = {
        "2": {
            "SERIAL_TEXT": SERIAL_NUMBER_MATRIX_TEXT_LT2,
            "SERIAL_NUMBER": SERIAL_NUMBER_MATRIX_NUM_LT2
        },
        "3": {
            "SERIAL_TEXT": SERIAL_NUMBER_MATRIX_TEXT_LT3,
            "SERIAL_NUMBER": SERIAL_NUMBER_MATRIX_NUM_LT3
        },
        "4": {
            "SERIAL_TEXT": SERIAL_NUMBER_MATRIX_TEXT_LT4,
            "SERIAL_NUMBER": SERIAL_NUMBER_MATRIX_NUM_LT4
        },
        "5": {
            "SERIAL_TEXT": SERIAL_NUMBER_MATRIX_TEXT_LT5,
            "SERIAL_NUMBER": SERIAL_NUMBER_MATRIX_NUM_LT5
        }
    }

    CAM_SOURCE_LT = [
        # 'rtsp://admin:Passw0rd@192.168.1.10',
        'rtsp://admin:Passw0rd@192.168.1.11', 
        # 'rtsp://admin:Passw0rd@192.168.1.12',
        # 'rtsp://admin:Passw0rd@192.168.1.13',
        # 'rtsp://admin:Passw0rd@192.168.1.14',
        # 'rtsp://admin:Passw0rd@192.168.1.15',
        # 'rtsp://admin:Passw0rd@192.168.1.16',
        # 'rtsp://admin:Passw0rd@192.168.1.17'
    ]

    VIDEO_SOURCE_LT2_IN = fr'D:\engine\smart_parking\dataset\cctv\z.mp4'
    # VIDEO_SOURCE_LT2_OUT = fr'D:\engine\smart_parking\dataset\cctv\keluar_lt_2_out.mp4'
    VIDEO_SOURCE_LT2_OUT = fr'D:\engine\cv\dataset_editor\editor\compose_video.mp4'
    VIDEO_SOURCE_LT3_IN = fr'D:\engine\smart_parking\dataset\cctv\z.mp4'
    VIDEO_SOURCE_LT3_OUT = fr'D:\engine\smart_parking\dataset\cctv\keluar_lt_2_out.mp4'
    VIDEO_SOURCE_LT4_IN = fr'D:\engine\smart_parking\dataset\cctv\z.mp4'
    VIDEO_SOURCE_LT4_OUT = fr'D:\engine\smart_parking\dataset\cctv\keluar_lt_2_out.mp4'
    VIDEO_SOURCE_LT5_IN = fr'D:\engine\smart_parking\dataset\cctv\z.mp4'
    VIDEO_SOURCE_LT5_OUT = fr'D:\engine\smart_parking\dataset\cctv\keluar_lt_2_out.mp4'

    VIDEO_SOURCE_LAPTOP_F2_IN = fr"D:\engine\smart_parking\dataset\cctv\z.mp4"
    # VIDEO_SOURCE_LAPTOP_F2_IN = fr"C:\Users\febri.dwi\Documents\dataset\2024-11-08\split_video_2024-11-08\F2_IN\192.168.1.10_01_20241108083438670.mp4_1409.mp4"
    # VIDEO_SOURCE_LAPTOP_F2_IN = fr"D:\engine\smart_parking\repository\github\dataset\2024-10-22\light\split_video\F2_IN_192.168.1.10_01_20241022185355918.mp4_7145.mp4"
    # VIDEO_SOURCE_LAPTOP_F2_IN = fr"C:\Users\febri.dwi\Documents\dataset\2024-11-08\split_video_2024-11-08\F2_IN\192.168.1.10_01_20241108073307866_1.mp4_8549.mp4"
    # VIDEO_SOURCE_LAPTOP_F2_OUT = fr"D:\engine\smart_parking\repository\github\dataset\2024-10-22\2024-10-22\day\F2_OUT_192.168.1.11_01_2024102217293382.mp4"
    # VIDEO_SOURCE_LAPTOP_F2_OUT = fr"D:\hikvision_record\2024-10-31\192.168.1.11_01_20241031145445633.mp4"
    VIDEO_SOURCE_LAPTOP_F2_OUT = fr"D:\hikvision_record\2024-10-31\CAR\split_video\F5_OUT_192.168.1.17_01_20241031185859282.mp4_3533.mp4"
    # VIDEO_SOURCE_LAPTOP_F2_OUT = fr"D:\hikvision_record\2024-10-31\CAR\split_video\F5_OUT_192.168.1.17_01_20241031190044193.mp4_2772.mp4"
    VIDEO_SOURCE_LAPTOP_F3_IN = fr"D:\engine\smart_parking\dataset\cctv\z.mp4"
    # VIDEO_SOURCE_LAPTOP_F3_IN = fr"D:\engine\smart_parking\repository\github\dataset\2024-10-22\day\split_video\F3_IN_192.168.1.12_01_20241022164946751.mp4_3364.mp4"
    # VIDEO_SOURCE_LAPTOP_F3_OUT = fr"D:\engine\smart_parking\repository\github\dataset\2024-10-22\2024-10-22\day\F3_OUT_192.168.1.13_01_20241022171830589.mp4"
    VIDEO_SOURCE_LAPTOP_F3_OUT = fr"D:\engine\smart_parking\repository\github\dataset\split_video-20241106T024733Z-001\192.168.1.13_01_20241105154736470.mp4_7575.mp4"

    VIDEO_SOURCE_LAPTOP_F4_IN = fr"D:\engine\smart_parking\repository\github\dataset\2024-10-22\2024-10-22\day\F4_IN_192.168.1.14_01_20241022165025380.mp4"
    # VIDEO_SOURCE_LAPTOP_F4_OUT = fr"D:\engine\smart_parking\repository\github\dataset\split_video-20241106T024733Z-001\192.168.1.15_01_20241105154733226.mp4_9845.mp4"
    VIDEO_SOURCE_LAPTOP_F4_OUT = fr"D:\engine\smart_parking\repository\github\dataset\split_video-20241106T024733Z-001\192.168.1.15_01_20241105154733226.mp4_2468.mp4"

    VIDEO_SOURCE_LAPTOP_F5_IN = fr"D:\engine\smart_parking\repository\github\dataset\video\2024-10-25\split_video\192_clip.mp4"
    VIDEO_SOURCE_LAPTOP_F5_OUT = fr"D:\engine\smart_parking\repository\github\dataset\video\2024-10-25\split_video\192_clip.mp4"

    VIDEO_SOURCE_FLOOR_LAPTOP = {
            2: {
                "IN": VIDEO_SOURCE_LAPTOP_F2_IN,
                "OUT": VIDEO_SOURCE_LAPTOP_F2_OUT
            },
            3: {
                "IN": VIDEO_SOURCE_LAPTOP_F3_IN,
                "OUT": VIDEO_SOURCE_LAPTOP_F3_OUT
            },
            4: {
                "IN": VIDEO_SOURCE_LAPTOP_F4_IN,
                "OUT": VIDEO_SOURCE_LAPTOP_F4_OUT
            },
            5: {
                "IN": VIDEO_SOURCE_LAPTOP_F5_IN,
                "OUT": VIDEO_SOURCE_LAPTOP_F5_OUT
            }
        }

    # PC
    VIDEO_SOURCE_20241004_LT2_IN = fr"C:\Users\DOT\Documents\febri\video\sequence\LT_2_IN.mp4"
    VIDEO_SOURCE_20241004_LT2_OUT = fr"C:\Users\DOT\Documents\febri\video\sequence\LT_2_OUT.mp4"
    VIDEO_SOURCE_20241004_LT3_IN = fr"C:\Users\DOT\Documents\febri\video\sequence\LT_3_IN.mp4"
    VIDEO_SOURCE_20241004_LT3_OUT = fr"C:\Users\DOT\Documents\febri\video\sequence\LT_3_OUT.mp4"
    VIDEO_SOURCE_20241004_LT4_IN = fr"C:\Users\DOT\Documents\febri\video\sequence\LT_4_IN.mp4"
    VIDEO_SOURCE_20241004_LT4_OUT = fr"C:\Users\DOT\Documents\febri\video\sequence\LT_4_OUT.mp4"
    VIDEO_SOURCE_20241004_LT5_IN = fr"C:\Users\DOT\Documents\febri\video\sequence\LT_5_IN.mp4"
    VIDEO_SOURCE_20241004_LT5_OUT = fr"C:\Users\DOT\Documents\febri\video\sequence\LT_5_OUT.mp4"

    # VIDEO_SOURCE_PC_F2_IN = fr"C:\Users\DOT\Documents\febri\video\sequence\LT_2_IN.mp4"
    # VIDEO_SOURCE_PC_F2_IN = fr"D:\Web\RecordFiles\2024-11-06\split_video\192.168.1.10_01_20241106170840406.mp4_3953.mp4"
    # VIDEO_SOURCE_PC_F2_IN = fr"D:\Web\RecordFiles\2024-10-24\2024-10-24\CAR\F2_IN_192.168.1.10_01_20241024142756346.mp4"
    VIDEO_SOURCE_PC_F2_IN = fr"D:\Web\RecordFiles\COPY\2024-11-08\split_video_v1\192.168.1.10_01_20241108073307866_1.mp4_4044.mp4"
    # VIDEO_SOURCE_PC_F2_OUT = fr"C:\Users\DOT\Documents\febri\video\sequence\LT_2_OUT.mp4"
    # VIDEO_SOURCE_PC_F2_OUT = fr"C:\Users\DOT\Documents\febri\bitbucket\F5_OUT_192.168.1.17_01_20241031185859282.mp4"
    VIDEO_SOURCE_PC_F2_OUT = fr"D:\Web\RecordFiles\2024-11-06\split_video\192.168.1.17_01_20241106163405337.mp4_1696.mp4"
    # VIDEO_SOURCE_PC_F3_IN = fr"D:\Web\RecordFiles\2024-11-06\split_video\192.168.1.12_01_20241106170844798_1.mp4_1650.mp4"
    VIDEO_SOURCE_PC_F3_IN = fr"D:\Web\RecordFiles\COPY\2024-11-08\split_video_v1\192.168.1.10_01_20241108073307866_1.mp4_2366.mp4"
    # VIDEO_SOURCE_PC_F3_OUT = fr"C:\Users\DOT\Web\RecordFiles\2024-11-05\split_video\192.168.1.13_01_20241105154736470.mp4_7575.mp4"
    # VIDEO_SOURCE_PC_F3_OUT = fr"C:\Users\DOT\Web\RecordFiles\2024-11-06\split_video\192.168.1.13_01_20241106170846328.mp4_7400.mp4"
    VIDEO_SOURCE_PC_F3_OUT = fr"D:\Web\RecordFiles\2024-11-06\split_video\192.168.1.13_01_20241106163408868.mp4_8037.mp4"
    # VIDEO_SOURCE_PC_F4_IN = fr"C:\Users\DOT\Documents\febri\video\sequence\LT_4_IN.mp4"
    # VIDEO_SOURCE_PC_F4_IN = fr"C:\Users\DOT\Web\RecordFiles\2024-10-22\day\split_video\192.168.1.14_01_20241022165025380.mp4_1444.mp4"
    VIDEO_SOURCE_PC_F4_IN = fr"D:\Web\RecordFiles\2024-11-04\split_video\192.168.1.14_01_20241104115332370.mp4_1677.mp4"
    # VIDEO_SOURCE_PC_F4_OUT = fr"C:\Users\DOT\Web\RecordFiles\2024-11-04\split_video\192.168.1.15_01_20241104115334212.mp4_5638.mp4"
    # VIDEO_SOURCE_PC_F4_OUT = fr"C:\Users\DOT\Web\RecordFiles\2024-11-05\split_video\192.168.1.15_01_20241105154733226.mp4_2468.mp4"
    # VIDEO_SOURCE_PC_F4_OUT = fr"C:\Users\DOT\Web\RecordFiles\2024-11-05\split_video\192.168.1.15_01_20241105154733226.mp4_9845.mp4"
    VIDEO_SOURCE_PC_F4_OUT = fr"D:\Web\RecordFiles\2024-11-06\split_video\192.168.1.15_01_20241106170850420.mp4_5462.mp4"
    # VIDEO_SOURCE_PC_F4_OUT = fr"C:\Users\DOT\Documents\febri\video\sequence\LT_4_OUT.mp4"
    VIDEO_SOURCE_PC_F5_IN = fr"D:\Documents\febri\video\sequence\LT_5_IN.mp4"
    VIDEO_SOURCE_PC_F5_OUT = fr"D:\Documents\febri\bitbucket\F5_OUT_192.168.1.17_01_20241031185859282.mp4"
    # VIDEO_SOURCE_PC_F5_OUT = fr"C:\Users\DOT\Documents\febri\bitbucket\F5_OUT_192.168.1.17_01_20241031190044193.mp4"

    VIDEO_SOURCE_FLOOR_PC = {
            2: {
                "IN": VIDEO_SOURCE_PC_F2_IN,
                "OUT": VIDEO_SOURCE_PC_F2_OUT
            },
            3: {
                "IN": VIDEO_SOURCE_PC_F3_IN,
                "OUT": VIDEO_SOURCE_PC_F3_OUT
            },
            4: {
                "IN": VIDEO_SOURCE_PC_F4_IN,
                "OUT": VIDEO_SOURCE_PC_F4_OUT
            },
            5: {
                "IN": VIDEO_SOURCE_PC_F5_IN,
                "OUT": VIDEO_SOURCE_PC_F5_OUT
            }
        }

    VIDEO_SOURCE_20241004 = [
                    VIDEO_SOURCE_20241004_LT2_IN, 
                    VIDEO_SOURCE_20241004_LT2_OUT, 
                    # VIDEO_SOURCE_20241004_LT3_IN, 
                    # VIDEO_SOURCE_20241004_LT3_OUT, 
                    # VIDEO_SOURCE_20241004_LT4_IN, 
                    # VIDEO_SOURCE_20241004_LT4_OUT, 
                    # VIDEO_SOURCE_20241004_LT5_IN, 
                    # VIDEO_SOURCE_20241004_LT5_OUT
                    ]
    
    VIDEO_SOURCE_LAPTOP = [
        VIDEO_SOURCE_LT2_IN,
        VIDEO_SOURCE_LT2_OUT
    ]

    LINK = [f"192.168.1.10{i}" for i in range(1, 5)]

    DRIVER_MATRIX = "CP210"
    DRIVER_MATRIX_NUM = "CP210"
    SERIAL_NUMBER_LT_2 = 'D200RBECA'
    LT_2_IN = "rtsp://admin:Passw0rd@192.168.1.10"

    # CLASS_NAMES = {
    #     # 0: 'person'
    #     2: 'car',
    #     7: 'truck'
    # }

    CLASS_NAMES = [2, 7, 5]
    CLASS_PLAT_NAMES = [8, 11, 12, 13]
    CLASS_NAMES_VEHICLE_PLATE = [0, 1, 2]

    AREA = ["lantai_2"]

    POLY_BBOX_F2_IN = [
    (0.3000000000000000, 0.5597222222222222),
    (0.3722222222222222, 0.3333333333333333),
    (0.6074074074074074, 0.2972222222222222),
    (0.8000000000000000, 0.5291666666666667),
]

    POLY_BBOX_F2_OUT = [
    (0.1203703703703704, 0.8125000000000000),
    (0.3490740740740741, 0.4097222222222222),
    (0.5120370370370371, 0.4097222222222222),
    # (0.3212962962962963, 0.4597222222222222),
    # (0.5212962962962963, 0.4597222222222222),
    (0.6027777777777777, 0.8180555555555555),
]
    
    POLY_BBOX_F3_IN = [
    (0.3657407407407408, 0.6444444444444445),
    (0.4361111111111111, 0.2875000000000000),
    (0.6185185185185185, 0.2847222222222222),
    # (0.4287037037037037, 0.3222222222222222),
    # (0.6361111111111111, 0.3305555555555555),
    (0.7879629629629630, 0.6555555555555556),
]

#STEVEN
    POLY_BBOX_F3_OUT = [
    (0.4379629629629629, 0.7263888888888889),
    (0.4250000000000000, 0.3750000000000000),
    (0.6481481481481481, 0.3263888888888889),
    (0.9861111111111112, 0.5000000000000000),
] 
    
    POLY_BBOX_F4_IN = [
    (0.1805555555555556, 0.8458333333333333),
    (0.3620370370370370, 0.2111111111111111),
    (0.5805555555555556, 0.1916666666666667),
    (0.8870370370370371, 0.7763888888888889),
]

    POLY_BBOX_F4_OUT = [
    (0.3870370370370370, 0.8555555555555555),
    (0.3953703703703704, 0.5027777777777778),
    (0.5666666666666667, 0.4750000000000000),
    (0.9861111111111112, 0.6652777777777777),
]
    
#     POLY_BBOX_F5_IN = [
#     (0.0009259259259259, 0.6347222222222222),
#     (0.2083333333333333, 0.4000000000000000),
#     (0.9629629629629629, 0.4222222222222222),
#     (0.9962962962962963, 0.6277777777777778),
# ]
    
    POLY_BBOX_F5_IN = [
    (0.0027777777777778, 0.6472222222222223),
    (0.1675925925925926, 0.4486111111111111),
    (0.9694444444444444, 0.4597222222222222),
    (0.9972222222222222, 0.6513888888888889),
]

    POLY_BBOX_F5_OUT = [
    (0.4694444444444444, 0.7069444444444445),
    (0.4518518518518518, 0.4180555555555556),
    (0.6287037037037037, 0.3652777777777778),
    (0.9472222222222222, 0.5291666666666667),
]

    TRACKING_POINT2_F1_IN = [
        (0.0018518518518519, 0.9972222222222222),
        (0.0620370370370370, 0.6625000000000000),
        (0.0175925925925926, 0.4125000000000000),
        (0.3694444444444445, 0.1875000000000000),
        (0.3666666666666666, 0.0013888888888889),
        (0.5129629629629630, 0.0000000000000000),
        (0.5101851851851852, 0.1500000000000000),
        (0.6083333333333333, 0.1722222222222222),
        (0.7981481481481482, 0.2527777777777778),
        (0.9990740740740741, 0.5555555555555556),
        (0.9990740740740741, 0.9972222222222222),
    ]

    TRACKING_POINT2_F1_OUT = [
    (0.0009259259259259, 0.9972222222222222),
    (0.0018518518518519, 0.6847222222222222),
    (0.1435185185185185, 0.4888888888888889),
    (0.3222222222222222, 0.3694444444444445),
    (0.4222222222222222, 0.2000000000000000),
    (0.4231481481481482, 0.0013888888888889),
    (0.6083333333333333, 0.0013888888888889),
    (0.6083333333333333, 0.1638888888888889),
    (0.9342592592592592, 0.4277777777777778),
    (0.9990740740740741, 0.4430555555555555),
    (0.9990740740740741, 0.9958333333333333),
]

    TRACKING_POINT2_F3_IN = [
    (0.0018518518518519, 0.9944444444444445),
    (0.0000000000000000, 0.4847222222222222),
    (0.4425925925925926, 0.0819444444444444),
    (0.4444444444444444, 0.0013888888888889),
    (0.5814814814814815, 0.0013888888888889),
    (0.6601851851851852, 0.1597222222222222),
    (0.8546296296296296, 0.4333333333333333),
    (0.9990740740740741, 0.7652777777777777),
    (0.9990740740740741, 0.9986111111111111),
]

    TRACKING_POINT2_F3_OUT = [
    (0.0009259259259259, 0.9972222222222222),
    (0.0000000000000000, 0.3083333333333333),
    (0.3055555555555556, 0.2486111111111111),
    (0.3064814814814815, 0.0013888888888889),
    (0.7018518518518518, 0.0013888888888889),
    (0.9990740740740741, 0.2819444444444444),
    (0.9990740740740741, 0.9972222222222222),
]

    TRACKING_POINT2_F4_IN = [
    (0.0000000000000000, 0.9972222222222222),
    (0.1092592592592593, 0.7138888888888889),
    (0.0703703703703704, 0.5263888888888889),
    (0.3435185185185185, 0.0000000000000000),
    (0.5592592592592592, 0.0000000000000000),
    (0.6157407407407407, 0.1000000000000000),
    (0.9203703703703704, 0.4152777777777778),
    (0.9990740740740741, 0.6125000000000000),
    (0.9990740740740741, 0.9986111111111111),
]

    TRACKING_POINT2_F4_OUT = [
    (0.0000000000000000, 0.9972222222222222),
    (0.0009259259259259, 0.3583333333333333),
    (0.3305555555555555, 0.0000000000000000),
    (0.8435185185185186, 0.0013888888888889),
    (0.9990740740740741, 0.4986111111111111),
    (0.9981481481481481, 0.9972222222222222),
]

    TRACKING_POINT2_F5_IN = [
    (0.0009259259259259, 0.9930555555555556),
    (0.0018518518518519, 0.3625000000000000),
    (0.2157407407407407, 0.0000000000000000),
    (0.8453703703703703, 0.0000000000000000),
    (0.8444444444444444, 0.2000000000000000),
    (0.9981481481481481, 0.2236111111111111),
    (0.9972222222222222, 0.9958333333333333),
]

    TRACKING_POINT2_F5_OUT = [
    (0.0018518518518519, 0.9958333333333333),
    (0.0000000000000000, 0.5236111111111111),
    (0.3657407407407408, 0.2263888888888889),
    (0.3675925925925926, 0.0013888888888889),
    (0.8111111111111111, 0.0000000000000000),
    (0.8333333333333334, 0.2263888888888889),
    (0.9981481481481481, 0.2583333333333334),
    (0.9990740740740741, 0.9944444444444445),
]

    POINTS_BACKGROUND_LT2_IN = [(0.31574074074074077, 0.07222222222222222),
                                (0.012962962962962963, 0.41388888888888886),
                                (0.003703703703703704, 0.9972222222222222),
                                (0.9990740740740741, 0.9958333333333333),
                                (0.9953703703703703, 0.6041666666666666),
                                (0.7861111111111111, 0.29583333333333334),
                                (0.6620370370370371, 0.23472222222222222),
                                (0.6648148148148149, 0.03194444444444444),
                                (0.6648148148148149, 0.002777777777777778),
                                (0.2953703703703704, 0.005555555555555556),
                                (0.31296296296296294, 0.075)]

    POINTS_BACKGROUND_LT2_OUT = [(0.004629629629629629, 0.9875),
                                (0.006481481481481481, 0.5930555555555556),
                                (0.28055555555555556, 0.3458333333333333),
                                (0.34629629629629627, 0.30277777777777776),
                                (0.3768518518518518, 0.14305555555555555),
                                (0.5935185185185186, 0.15694444444444444),
                                (0.975, 0.3638888888888889),
                                (0.9166666666666666, 0.7013888888888888),
                                (0.9898148148148148, 0.9861111111111112),
                                (0.005555555555555556, 0.9888888888888889)]

    POINTS_BACKGROUND_LT3_IN = [(0.31574074074074077, 0.07222222222222222),
                                (0.012962962962962963, 0.41388888888888886),
                                (0.003703703703703704, 0.9972222222222222),
                                (0.9990740740740741, 0.9958333333333333),
                                (0.9953703703703703, 0.6041666666666666),
                                (0.7861111111111111, 0.29583333333333334),
                                (0.6620370370370371, 0.23472222222222222),
                                (0.6648148148148149, 0.03194444444444444),
                                (0.6648148148148149, 0.002777777777777778),
                                (0.2953703703703704, 0.005555555555555556),
                                (0.31296296296296294, 0.075)]

    POINTS_BACKGROUND_LT3_OUT = [(0.004629629629629629, 0.9875),
                                (0.006481481481481481, 0.5930555555555556),
                                (0.28055555555555556, 0.3458333333333333),
                                (0.34629629629629627, 0.30277777777777776),
                                (0.3768518518518518, 0.14305555555555555),
                                (0.5935185185185186, 0.15694444444444444),
                                (0.975, 0.3638888888888889),
                                (0.9166666666666666, 0.7013888888888888),
                                (0.9898148148148148, 0.9861111111111112),
                                (0.005555555555555556, 0.9888888888888889)]

    POINTS_BACKGROUND_LT4_IN = [(0.31574074074074077, 0.07222222222222222),
                                (0.012962962962962963, 0.41388888888888886),
                                (0.003703703703703704, 0.9972222222222222),
                                (0.9990740740740741, 0.9958333333333333),
                                (0.9953703703703703, 0.6041666666666666),
                                (0.7861111111111111, 0.29583333333333334),
                                (0.6620370370370371, 0.23472222222222222),
                                (0.6648148148148149, 0.03194444444444444),
                                (0.6648148148148149, 0.002777777777777778),
                                (0.2953703703703704, 0.005555555555555556),
                                (0.31296296296296294, 0.075)]

    POINTS_BACKGROUND_LT4_OUT = [(0.004629629629629629, 0.9875),
                                (0.006481481481481481, 0.5930555555555556),
                                (0.28055555555555556, 0.3458333333333333),
                                (0.34629629629629627, 0.30277777777777776),
                                (0.3768518518518518, 0.14305555555555555),
                                (0.5935185185185186, 0.15694444444444444),
                                (0.975, 0.3638888888888889),
                                (0.9166666666666666, 0.7013888888888888),
                                (0.9898148148148148, 0.9861111111111112),
                                (0.005555555555555556, 0.9888888888888889)]

    POINTS_BACKGROUND_LT5_IN = [(0.31574074074074077, 0.07222222222222222),
                                (0.012962962962962963, 0.41388888888888886),
                                (0.003703703703703704, 0.9972222222222222),
                                (0.9990740740740741, 0.9958333333333333),
                                (0.9953703703703703, 0.6041666666666666),
                                (0.7861111111111111, 0.29583333333333334),
                                (0.6620370370370371, 0.23472222222222222),
                                (0.6648148148148149, 0.03194444444444444),
                                (0.6648148148148149, 0.002777777777777778),
                                (0.2953703703703704, 0.005555555555555556),
                                (0.31296296296296294, 0.075)]

    POINTS_BACKGROUND_LT5_OUT = [(0.004629629629629629, 0.9875),
                                (0.006481481481481481, 0.5930555555555556),
                                (0.28055555555555556, 0.3458333333333333),
                                (0.34629629629629627, 0.30277777777777776),
                                (0.3768518518518518, 0.14305555555555555),
                                (0.5935185185185186, 0.15694444444444444),
                                (0.975, 0.3638888888888889),
                                (0.9166666666666666, 0.7013888888888888),
                                (0.9898148148148148, 0.9861111111111112),
                                (0.005555555555555556, 0.9888888888888889)]

    # LT2
    POINT_LT2_IN_L_START = (0.34629629629629627, 0.3277777777777778)
    POINT_LT2_IN_R_START = (0.5972222222222222, 0.32222222222222224)
    POINT_LT2_IN_L_END = (0.1898148148148148, 0.5055555555555555)
    POINT_LT2_IN_R_END = (0.7203703703703703, 0.4986111111111111)

    POINT_LT2_OUT_L_START = (0.34629629629629627, 0.3277777777777778)
    POINT_LT2_OUT_R_START = (0.5972222222222222, 0.32222222222222224)
    POINT_LT2_OUT_L_END = (0.05462962962962963, 0.6611111111111111)
    POINT_LT2_OUT_R_END = (0.8111111111111111, 0.6708333333333333)

    # LT3
    POINT_LT3_IN_L_START = (0.34629629629629627, 0.3277777777777778)
    POINT_LT3_IN_R_START = (0.5972222222222222, 0.32222222222222224)
    POINT_LT3_IN_L_END = (0.05462962962962963, 0.6611111111111111)
    POINT_LT3_IN_R_END = (0.6907407407407408, 0.6694444444444444)

    POINT_LT3_OUT_L_START = (0.34629629629629627, 0.3277777777777778)
    POINT_LT3_OUT_R_START = (0.5972222222222222, 0.32222222222222224)
    POINT_LT3_OUT_L_END = (0.017592592592592594, 0.8319444444444445)
    POINT_LT3_OUT_R_END = (0.8092592592592592, 0.8055555555555556)

    # LT4
    POINT_LT4_IN_L_START = (0.375, 0.3541666666666667)
    POINT_LT4_IN_R_START = (0.6333333333333333, 0.36944444444444446)
    POINT_LT4_IN_L_END = (0.07592592592592592, 0.9291666666666667)
    POINT_LT4_IN_R_END = (0.8027777777777778, 0.9097222222222222)

    POINT_LT4_OUT_L_START = (0.34629629629629627, 0.3277777777777778)
    POINT_LT4_OUT_R_START = (0.5972222222222222, 0.32222222222222224)
    POINT_LT4_OUT_L_END = (0.05648148148148148, 0.6888888888888889)
    POINT_LT4_OUT_R_END = (0.8842592592592593, 0.7111111111111111)

    # LT5
    POINT_LT5_IN_L_START = (0.4583333333333333, 0.39305555555555555)
    POINT_LT5_IN_R_START = (0.6648148148148149, 0.4027777777777778)
    POINT_LT5_IN_L_END = (0.10740740740740741, 0.9013888888888889)
    POINT_LT5_IN_R_END = (0.8657407407407407, 0.8555555555555555)

    POINT_LT5_OUT_L_START = (0.29074074074074074, 0.2111111111111111)
    POINT_LT5_OUT_R_START = (0.5916666666666667, 0.1986111111111111)
    POINT_LT5_OUT_L_END = (0.05277777777777778, 0.6611111111111111)
    POINT_LT5_OUT_R_END = (0.9046296296296297, 0.6722222222222223)


    POLYGON_POINT_LT2_IN = [
        POINT_LT2_IN_L_START,
        POINT_LT2_IN_R_START,
        POINT_LT2_IN_L_END,
        POINT_LT2_IN_R_END        
    ]

    POLYGON_POINT_LT2_OUT = [
        POINT_LT2_OUT_L_START,
        POINT_LT2_OUT_R_START,
        POINT_LT2_OUT_L_END,
        POINT_LT2_OUT_R_END        
    ]

    POLYGON_POINT_LT3_IN = [
        POINT_LT3_IN_L_START,
        POINT_LT3_IN_R_START,
        POINT_LT3_IN_L_END,
        POINT_LT3_IN_R_END        
    ]    

    POLYGON_POINT_LT3_OUT = [
        POINT_LT3_OUT_L_START,
        POINT_LT3_OUT_R_START,
        POINT_LT3_OUT_L_END,
        POINT_LT3_OUT_R_END
    ]

    POLYGON_POINT_LT4_IN = [
        POINT_LT4_IN_L_START,
        POINT_LT4_IN_R_START,
        POINT_LT4_IN_L_END,
        POINT_LT4_IN_R_END        
    ]    

    POLYGON_POINT_LT4_OUT = [
        POINT_LT4_OUT_L_START,
        POINT_LT4_OUT_R_START,
        POINT_LT4_OUT_L_END,
        POINT_LT4_OUT_R_END
    ]

    POLYGON_POINT_LT5_IN = [
        POINT_LT5_IN_L_START,
        POINT_LT5_IN_R_START,
        POINT_LT5_IN_L_END,
        POINT_LT5_IN_R_END        
    ]    

    POLYGON_POINT_LT5_OUT = [
        POINT_LT5_OUT_L_START,
        POINT_LT5_OUT_R_START,
        POINT_LT5_OUT_L_END,
        POINT_LT5_OUT_R_END
    ]

config = Config()



import random
BASE_DIR = Path(__file__).parent.parent.resolve()


MODEL_PATH = BASE_DIR / "weights/yolov8n.pt"

#MQTT
BROKER = '192.168.88.60'
PORT = 1883
TOPIC = "DOT/UAT/LAMP"
CLIENT_ID = f'publish-{random.randint(0, 1000)}'

CLASS_NAMES = {
    0: 'person',
    # 1: 'bicycle',
    2: 'car',
    # 3: 'motorcycle',
    # 5: 'bus',
    7: 'truck'
    # Add more classes if needed
}